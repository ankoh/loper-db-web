"use strict";(self.webpackChunk_ankoh_loper_db_web_app=self.webpackChunk_ankoh_loper_db_web_app||[]).push([[208],{714:(e,t,n)=>{var r=n(784),i=n(29),o=n(82),s=n.n(o),a=n(289),c=n(440),u=n(678),l=n(358);function f(e,t){if(!e)throw new Error(t)}function d(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function b(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function h(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}var g=Symbol("@bufbuild/protobuf/enum-type");function m(e,t,n,r){e[g]=w(t,n.map((t=>({no:t.no,name:t.name,localName:e[t.no]}))))}function w(e,t,n){const r=Object.create(null),i=Object.create(null),o=[];for(const e of t){const t=p(e);o.push(t),r[e.name]=t,i[e.no]=t}return{typeName:e,values:o,findName:e=>r[e],findNumber:e=>i[e]}}function p(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}var _,y,v=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const n=this.getType().runtime.bin,r=n.makeReadOptions(t);return n.readMessage(this,r.readerFactory(e),e.byteLength,r),this}fromJson(e,t){const n=this.getType(),r=n.runtime.json,i=r.makeReadOptions(t);return r.readMessage(n,e,i,this),this}fromJsonString(e,t){return this.fromJson(JSON.parse(e),t)}toBinary(e){const t=this.getType().runtime.bin,n=t.makeWriteOptions(e),r=n.writerFactory();return t.writeMessage(this,r,n),r.finish()}toJson(e){const t=this.getType().runtime.json,n=t.makeWriteOptions(e);return t.writeMessage(this,n)}toJsonString(e){var t;const n=this.toJson(e);return JSON.stringify(n,null,null!==(t=null==e?void 0:e.prettySpaces)&&void 0!==t?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};function k(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,0==(128&r))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,0==(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,0==(128&r))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function N(e,t,n){for(let r=0;r<28;r+=7){const i=e>>>r,o=!(i>>>7==0&&0==t),s=255&(o?128|i:i);if(n.push(s),!o)return}const r=e>>>28&15|(7&t)<<4,i=!(t>>3==0);if(n.push(255&(i?128|r:r)),i){for(let e=3;e<31;e+=7){const r=t>>>e,i=!(r>>>7==0),o=255&(i?128|r:r);if(n.push(o),!i)return}n.push(t>>>31&1)}}(y=_||(_={}))[y.DOUBLE=1]="DOUBLE",y[y.FLOAT=2]="FLOAT",y[y.INT64=3]="INT64",y[y.UINT64=4]="UINT64",y[y.INT32=5]="INT32",y[y.FIXED64=6]="FIXED64",y[y.FIXED32=7]="FIXED32",y[y.BOOL=8]="BOOL",y[y.STRING=9]="STRING",y[y.BYTES=12]="BYTES",y[y.UINT32=13]="UINT32",y[y.SFIXED32=15]="SFIXED32",y[y.SFIXED64=16]="SFIXED64",y[y.SINT32=17]="SINT32",y[y.SINT64=18]="SINT64";var T=4294967296;function I(e){const t="-"===e[0];t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function o(t,o){const s=Number(e.slice(t,o));i*=n,r=r*n+s,r>=T&&(i+=r/T|0,r%=T)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?O(r,i):S(r,i)}function E(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(T*t+e);const n=16777215&(e>>>24|t<<8),r=t>>16&65535;let i=(16777215&e)+6777216*n+6710656*r,o=n+8147497*r,s=2*r;const a=1e7;return i>=a&&(o+=Math.floor(i/a),i%=a),o>=a&&(s+=Math.floor(o/a),o%=a),s.toString()+A(o)+A(i)}function S(e,t){return{lo:0|e,hi:0|t}}function O(e,t){return t=~t,e?e=1+~e:t+=1,S(e,t)}var A=e=>{const t=String(e);return"0000000".slice(t.length)+t};function U(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function F(){let e=this.buf[this.pos++],t=127&e;if(0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,0==(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;0!=(128&e)&&t<10;t++)e=this.buf[this.pos++];if(0!=(128&e))throw new Error("invalid varint");return this.assertBounds(),t>>>0}var j,B,x=function(){const e=new DataView(new ArrayBuffer(8));if(void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),i=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const r="bigint"==typeof e?e:BigInt(e);if(r>n||r<t)throw new Error(`int64 invalid: ${e}`);return r},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>i||t<r)throw new Error(`uint64 invalid: ${e}`);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}const t=e=>f(/^-?[0-9]+$/.test(e),`int64 invalid: ${e}`),n=e=>f(/^[0-9]+$/.test(e),`uint64 invalid: ${e}`);return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),t(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),t(e),I(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),n(e),I(e)),dec:(e,t)=>function(e,t){let n=S(e,t);const r=2147483648&n.hi;r&&(n=O(n.lo,n.hi));const i=E(n.lo,n.hi);return r?"-"+i:i}(e,t),uDec:(e,t)=>E(e,t)}}();function D(e,t){return t instanceof v||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}function C(e,t,n){if(t===n)return!0;if(e==_.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array))return!1;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case _.UINT64:case _.FIXED64:case _.INT64:case _.SFIXED64:case _.SINT64:return t==n}return!1}function J(e){switch(e){case _.BOOL:return!1;case _.UINT64:case _.FIXED64:case _.INT64:case _.SFIXED64:case _.SINT64:return x.zero;case _.DOUBLE:case _.FLOAT:return 0;case _.BYTES:return new Uint8Array(0);case _.STRING:return"";default:return 0}}function L(e,t){const n=void 0===t;let r=j.Varint,i=0===t;switch(e){case _.STRING:i=n||!t.length,r=j.LengthDelimited;break;case _.BOOL:i=!1===t;break;case _.DOUBLE:r=j.Bit64;break;case _.FLOAT:r=j.Bit32;break;case _.INT64:case _.UINT64:i=n||0==t;break;case _.FIXED64:i=n||0==t,r=j.Bit64;break;case _.BYTES:i=n||!t.byteLength,r=j.LengthDelimited;break;case _.FIXED32:case _.SFIXED32:r=j.Bit32;break;case _.SFIXED64:i=n||0==t,r=j.Bit64;break;case _.SINT64:i=n||0==t}return[r,_[e].toLowerCase(),n||i]}(B=j||(j={}))[B.Varint=0]="Varint",B[B.Bit64=1]="Bit64",B[B.LengthDelimited=2]="LengthDelimited",B[B.StartGroup=3]="StartGroup",B[B.EndGroup=4]="EndGroup",B[B.Bit32=5]="Bit32",_.DOUBLE,_.FLOAT,_.INT64,_.UINT64,_.INT32,_.UINT32,_.BOOL,_.STRING,_.BYTES;var $=Symbol("@bufbuild/protobuf/unknown-fields"),W={readUnknownFields:!0,readerFactory:e=>new class{constructor(e,t){this.varint64=k,this.uint32=F,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case j.Varint:for(;128&this.buf[this.pos++];);break;case j.Bit64:this.pos+=4;case j.Bit32:this.pos+=4;break;case j.LengthDelimited:let t=this.uint32();this.pos+=t;break;case j.StartGroup:let n;for(;(n=this.tag()[1])!==j.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return x.dec(...this.varint64())}uint64(){return x.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,x.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return x.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return x.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}(e)},R={writeUnknownFields:!0,writerFactory:()=>new class{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(b(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return d(e),U(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){h(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){b(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){d(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return d(e),U(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=x.enc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=x.uEnc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=x.enc(e);return N(t.lo,t.hi,this.buf),this}sint64(e){let t=x.enc(e),n=t.hi>>31;return N(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=x.uEnc(e);return N(t.lo,t.hi,this.buf),this}}};function P(e,t,n){const r=t.uint32(),i=t.pos+r;let o,s;for(;t.pos<i;){let[r]=t.tag();switch(r){case 1:o=V(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=V(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=e.V.T.fromBinary(t.bytes(),n)}}}if(void 0===o){let t=J(e.K);o=e.K==_.BOOL?t.toString():t}if("string"!=typeof o&&"number"!=typeof o&&(o=o.toString()),void 0===s)switch(e.V.kind){case"scalar":s=J(e.V.T);break;case"enum":s=0;break;case"message":s=new e.V.T}return[o,s]}function V(e,t){let[,n]=L(t);return e[n]()}function M(e,t,n,r,i){e.tag(n.no,j.LengthDelimited),e.fork();let o=r;switch(n.K){case _.INT32:case _.FIXED32:case _.UINT32:case _.SFIXED32:case _.SINT32:o=Number.parseInt(r);break;case _.BOOL:f("true"==r||"false"==r),o="true"==r}switch(q(e,n.K,1,o,!0),n.V.kind){case"scalar":q(e,n.V.T,2,i,!0);break;case"enum":q(e,_.INT32,2,i,!0);break;case"message":X(e,t,n.V.T,2,i)}e.join()}function X(e,t,n,r,i){if(void 0!==i){const o=D(n,i);e.tag(r,j.LengthDelimited).bytes(o.toBinary(t))}}function q(e,t,n,r,i){let[o,s,a]=L(t,r);a&&!i||e.tag(n,o)[s](r)}function G(e,t,n,r){if(!r.length)return;e.tag(n,j.LengthDelimited).fork();let[,i]=L(t);for(let t=0;t<r.length;t++)e[i](r[t]);e.join()}var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),K=[];for(let e=0;e<H.length;e++)K[H[e].charCodeAt(0)]=e;K["-".charCodeAt(0)]=H.indexOf("+"),K["_".charCodeAt(0)]=H.indexOf("/");var z={dec(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,r=new Uint8Array(t),i=0,o=0,s=0;for(let t=0;t<e.length;t++){if(n=K[e.charCodeAt(t)],void 0===n)switch(e[t]){case"=":o=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:s=n,o=1;break;case 1:r[i++]=s<<2|(48&n)>>4,s=n,o=2;break;case 2:r[i++]=(15&s)<<4|(60&n)>>2,s=n,o=3;break;case 3:r[i++]=(3&s)<<6|n,o=0}}if(1==o)throw Error("invalid base64 string.");return r.subarray(0,i)},enc(e){let t,n="",r=0,i=0;for(let o=0;o<e.length;o++)switch(t=e[o],r){case 0:n+=H[t>>2],i=(3&t)<<4,r=1;break;case 1:n+=H[i|t>>4],i=(15&t)<<2,r=2;break;case 2:n+=H[i|t>>6],n+=H[63&t],r=0}return r&&(n+=H[i],n+="=",1==r&&(n+="=")),n}},Y={ignoreUnknownFields:!1},Q={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Z(e){return e?Object.assign(Object.assign({},Y),e):Y}function ee(e){return e?Object.assign(Object.assign({},Q),e):Q}function te(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return e.toString()}}function ne(e,t){switch(e){case _.DOUBLE:case _.FLOAT:if(null===t)return 0;if("NaN"===t)return Number.NaN;if("Infinity"===t)return Number.POSITIVE_INFINITY;if("-Infinity"===t)return Number.NEGATIVE_INFINITY;if(""===t)break;if("string"==typeof t&&t.trim().length!==t.length)break;if("string"!=typeof t&&"number"!=typeof t)break;const n=Number(t);if(Number.isNaN(n))break;if(!Number.isFinite(n))break;return e==_.FLOAT&&h(n),n;case _.INT32:case _.FIXED32:case _.SFIXED32:case _.SINT32:case _.UINT32:if(null===t)return 0;let r;if("number"==typeof t?r=t:"string"==typeof t&&t.length>0&&t.trim().length===t.length&&(r=Number(t)),void 0===r)break;return e==_.UINT32?b(r):d(r),r;case _.INT64:case _.SFIXED64:case _.SINT64:if(null===t)return x.zero;if("number"!=typeof t&&"string"!=typeof t)break;return x.parse(t);case _.FIXED64:case _.UINT64:if(null===t)return x.zero;if("number"!=typeof t&&"string"!=typeof t)break;return x.uParse(t);case _.BOOL:if(null===t)return!1;if("boolean"!=typeof t)break;return t;case _.STRING:if(null===t)return"";if("string"!=typeof t)break;try{encodeURIComponent(t)}catch(e){throw new Error("invalid UTF8")}return t;case _.BYTES:if(null===t||""===t)return new Uint8Array(0);if("string"!=typeof t)break;return z.dec(t)}throw new Error}function re(e,t,n){if(null===t)return 0;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r||n)return null==r?void 0:r.no}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${te(t)}`)}function ie(e,t,n,r){var i;if(void 0===t)return t;if(0===t&&!n)return;if(r)return t;if("google.protobuf.NullValue"==e.typeName)return null;const o=e.findNumber(t);return null!==(i=null==o?void 0:o.name)&&void 0!==i?i:t}function oe(e,t,n){if(void 0!==t)switch(e){case _.INT32:case _.SFIXED32:case _.SINT32:case _.FIXED32:case _.UINT32:return f("number"==typeof t),0!=t||n?t:void 0;case _.FLOAT:case _.DOUBLE:return f("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":0!==t||n?t:void 0;case _.STRING:return f("string"==typeof t),t.length>0||n?t:void 0;case _.BOOL:return f("boolean"==typeof t),t||n?t:void 0;case _.UINT64:case _.FIXED64:case _.INT64:case _.SFIXED64:case _.SINT64:return f("bigint"==typeof t||"string"==typeof t||"number"==typeof t),n||0!=t?t.toString(10):void 0;case _.BYTES:return f(t instanceof Uint8Array),n||t.byteLength>0?z.enc(t):void 0}}function se(e,t){if(void 0===t)return t;if(t instanceof v)return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function ae(e,t){let n=ue(e);return t||(he[n]||ge[n])&&(n+="$"),n}var ce=ue;function ue(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),n.push(i)}}return n.join("")}var le,fe,de,be,he={constructor:!0,toString:!0,toJSON:!0,valueOf:!0},ge={getType:!0,clone:!0,equals:!0,fromBinary:!0,fromJson:!0,fromJsonString:!0,toBinary:!0,toJson:!0,toJsonString:!0,toObject:!0},me=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=ae(e,!1)}addField(e){f(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}},we=("proto3",{syntax:"proto3",json:function(e){const t=(n=ie,r=oe,function(e,t,i){if("map"==e.kind){const o={};switch(e.V.kind){case"scalar":for(const[n,i]of Object.entries(t)){const t=r(e.V.T,i,!0);f(void 0!==t),o[n.toString()]=t}break;case"message":for(const[e,n]of Object.entries(t))o[e.toString()]=n.toJson(i);break;case"enum":const s=e.V.T;for(const[e,r]of Object.entries(t)){f(void 0===r||"number"==typeof r);const t=n(s,r,!0,i.enumAsInteger);f(void 0!==t),o[e.toString()]=t}}return i.emitDefaultValues||Object.keys(o).length>0?o:void 0}if(e.repeated){const o=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++)o.push(r(e.T,t[n],!0));break;case"enum":for(let r=0;r<t.length;r++)o.push(n(e.T,t[r],!0,i.enumAsInteger));break;case"message":for(let n=0;n<t.length;n++)o.push(D(e.T,t[n]).toJson(i))}return i.emitDefaultValues||o.length>0?o:void 0}switch(e.kind){case"scalar":return r(e.T,t,!!e.oneof||e.opt||i.emitDefaultValues);case"enum":return n(e.T,t,!!e.oneof||e.opt||i.emitDefaultValues,i.enumAsInteger);case"message":return void 0!==t?D(e.T,t).toJson(i):void 0}});var n,r;return{makeReadOptions:Z,makeWriteOptions:ee,readMessage(e,t,n,r){if(null==t||Array.isArray(t)||"object"!=typeof t)throw new Error(`cannot decode message ${e.typeName} from JSON: ${this.debug(t)}`);r=null!=r?r:new e;const i={};for(const[o,s]of Object.entries(t)){const t=e.fields.findJsonName(o);if(!t){if(!n.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${o}" is unknown`);continue}let a=t.localName,c=r;if(t.oneof){if(null===s&&"scalar"==t.kind)continue;const n=i[t.oneof.localName];if(n)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${t.oneof.name}" present: "${n}", "${o}"`);i[t.oneof.localName]=o,c=c[t.oneof.localName]={case:a},a="value"}if(t.repeated){if(null===s)continue;if(!Array.isArray(s))throw new Error(`cannot decode field ${e.typeName}.${t.name} from JSON: ${this.debug(s)}`);const r=c[a];for(const i of s){if(null===i)throw new Error(`cannot decode field ${e.typeName}.${t.name} from JSON: ${this.debug(i)}`);let o;switch(t.kind){case"message":o=t.T.fromJson(i,n);break;case"enum":if(o=re(t.T,i,n.ignoreUnknownFields),void 0===o)continue;break;case"scalar":try{o=ne(t.T,i)}catch(n){let r=`cannot decode field ${e.typeName}.${t.name} from JSON: ${this.debug(i)}`;throw n instanceof Error&&n.message.length>0&&(r+=`: ${n.message}`),new Error(r)}}r.push(o)}}else if("map"==t.kind){if(null===s)continue;if(Array.isArray(s)||"object"!=typeof s)throw new Error(`cannot decode field ${e.typeName}.${t.name} from JSON: ${this.debug(s)}`);const r=c[a];for(const[i,o]of Object.entries(s)){if(null===o)throw new Error(`cannot decode field ${e.typeName}.${t.name} from JSON: map value null`);let a;switch(t.V.kind){case"message":a=t.V.T.fromJson(o,n);break;case"enum":if(a=re(t.V.T,o,n.ignoreUnknownFields),void 0===a)continue;break;case"scalar":try{a=ne(t.V.T,o)}catch(n){let r=`cannot decode map value for field ${e.typeName}.${t.name} from JSON: ${this.debug(s)}`;throw n instanceof Error&&n.message.length>0&&(r+=`: ${n.message}`),new Error(r)}}try{r[ne(t.K,t.K==_.BOOL?"true"==i||"false"!=i&&i:i).toString()]=a}catch(n){let r=`cannot decode map key for field ${e.typeName}.${t.name} from JSON: ${this.debug(s)}`;throw n instanceof Error&&n.message.length>0&&(r+=`: ${n.message}`),new Error(r)}}}else switch(t.kind){case"message":const r=t.T;if(null===s&&"google.protobuf.Value"!=r.typeName){if(t.oneof)throw new Error(`cannot decode field ${e.typeName}.${t.name} from JSON: null is invalid for oneof field "${o}"`);continue}c[a]instanceof v?c[a].fromJson(s,n):(c[a]=r.fromJson(s,n),r.fieldWrapper&&!t.oneof&&(c[a]=r.fieldWrapper.unwrapField(c[a])));break;case"enum":const i=re(t.T,s,n.ignoreUnknownFields);void 0!==i&&(c[a]=i);break;case"scalar":try{c[a]=ne(t.T,s)}catch(n){let r=`cannot decode field ${e.typeName}.${t.name} from JSON: ${this.debug(s)}`;throw n instanceof Error&&n.message.length>0&&(r+=`: ${n.message}`),new Error(r)}}}return r},writeMessage(e,n){const r=e.getType(),i={};let o;try{for(const s of r.fields.byMember()){let r;if("oneof"==s.kind){const i=e[s.localName];if(void 0===i.value)continue;if(o=s.findField(i.case),!o)throw"oneof case not found: "+i.case;r=t(o,i.value,n)}else o=s,r=t(o,e[o.localName],n);void 0!==r&&(i[n.useProtoFieldName?o.name:o.jsonName]=r)}}catch(e){const t=o?`cannot encode field ${r.typeName}.${o.name} to JSON`:`cannot encode message ${r.typeName} to JSON`,n=e instanceof Error?e.message:String(e);throw new Error(t+(n.length>0?`: ${n}`:""))}return i},readScalar:ne,writeScalar:oe,debug:te}}(),bin:Object.assign(Object.assign({},{makeReadOptions:function(e){return e?Object.assign(Object.assign({},W),e):W},makeWriteOptions:function(e){return e?Object.assign(Object.assign({},R),e):R},listUnknownFields(e){var t;return null!==(t=e[$])&&void 0!==t?t:[]},discardUnknownFields(e){delete e[$]},writeUnknownFields(e,t){const n=e[$];if(n)for(const e of n)t.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,t,n,r){const i=e;Array.isArray(i[$])||(i[$]=[]),i[$].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r){const i=e.getType(),o=void 0===n?t.len:t.pos+n;for(;t.pos<o;){const[n,o]=t.tag(),s=i.fields.find(n);if(!s){const i=t.skip(o);r.readUnknownFields&&this.onUnknownField(e,n,o,i);continue}let a=e,c=s.repeated,u=s.localName;switch(s.oneof&&(a=a[s.oneof.localName],a.case!=u&&delete a.value,a.case=u,u="value"),s.kind){case"scalar":case"enum":const e="enum"==s.kind?_.INT32:s.T;if(c){let n=a[u];if(o==j.LengthDelimited&&e!=_.STRING&&e!=_.BYTES){let r=t.uint32()+t.pos;for(;t.pos<r;)n.push(V(t,e))}else n.push(V(t,e))}else a[u]=V(t,e);break;case"message":const n=s.T;c?a[u].push(n.fromBinary(t.bytes(),r)):a[u]instanceof v?a[u].fromBinary(t.bytes(),r):(a[u]=n.fromBinary(t.bytes(),r),!n.fieldWrapper||s.oneof||s.repeated||(a[u]=n.fieldWrapper.unwrapField(a[u])));break;case"map":let[i,l]=P(s,t,r);a[u][i]=l}}}}),{writeMessage(e,t,n){const r=e.getType();for(const i of r.fields.byNumber()){let r,o=i.repeated,s=i.localName;if(i.oneof){const t=e[i.oneof.localName];if(t.case!==s)continue;r=t.value}else r=e[s];switch(i.kind){case"scalar":case"enum":let e="enum"==i.kind?_.INT32:i.T;if(o)if(i.packed)G(t,e,i.no,r);else for(const n of r)q(t,e,i.no,n,!0);else void 0!==r&&q(t,e,i.no,r,!!i.oneof||i.opt);break;case"message":if(o)for(const e of r)X(t,n,i.T,i.no,e);else X(t,n,i.T,i.no,r);break;case"map":for(const[e,o]of Object.entries(r))M(t,n,i,e,o)}}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t}}),util:Object.assign(Object.assign({},{setEnumType:m,initPartial(e,t){if(void 0===e)return;const n=t.getType();for(const r of n.fields.byMember()){const n=r.localName,i=t,o=e;if(void 0!==o[n])switch(r.kind){case"oneof":const e=o[n].case;if(void 0===e)continue;const t=r.findField(e);let s=o[n].value;!t||"message"!=t.kind||s instanceof t.T||(s=new t.T(s)),i[n]={case:e,value:s};break;case"scalar":case"enum":i[n]=o[n];break;case"map":switch(r.V.kind){case"scalar":case"enum":Object.assign(i[n],o[n]);break;case"message":const e=r.V.T;for(const t of Object.keys(o[n])){let r=o[n][t];e.fieldWrapper||(r=new e(r)),i[n][t]=r}}break;case"message":const a=r.T;if(r.repeated)i[n]=o[n].map((e=>e instanceof a?e:new a(e)));else if(void 0!==o[n]){const e=o[n];a.fieldWrapper?i[n]=e:i[n]=e instanceof a?e:new a(e)}}}},equals:(e,t,n)=>t===n||!(!t||!n)&&e.fields.byMember().every((e=>{const r=t[e.localName],i=n[e.localName];if(e.repeated){if(r.length!==i.length)return!1;switch(e.kind){case"message":return r.every(((t,n)=>e.T.equals(t,i[n])));case"scalar":return r.every(((t,n)=>C(e.T,t,i[n])));case"enum":return r.every(((e,t)=>C(_.INT32,e,i[t])))}throw new Error(`repeated cannot contain ${e.kind}`)}switch(e.kind){case"message":return e.T.equals(r,i);case"enum":return C(_.INT32,r,i);case"scalar":return C(e.T,r,i);case"oneof":if(r.case!==i.case)return!1;const t=r.case,n=e.findField(t);if(void 0===n)return!0;switch(n.kind){case"message":return n.T.equals(r[t],i[t]);case"enum":return C(_.INT32,r,i);case"scalar":return C(n.T,r,i)}throw new Error(`oneof cannot contain ${n.kind}`);case"map":const o=Object.keys(r).concat(Object.keys(i));switch(e.V.kind){case"message":const t=e.V.T;return o.every((e=>t.equals(r[e],i[e])));case"enum":return o.every((e=>C(_.INT32,r[e],i[e])));case"scalar":const n=e.V.T;return o.every((e=>C(n,r[e],i[e])))}}})),clone(e){const t=e.getType(),n=new t,r=n;for(const n of t.fields.byMember()){const t=e[n.localName];let i;if(n.repeated)i=t.map((e=>se(0,e)));else if("map"==n.kind){i=r[n.localName];for(const[e,r]of Object.entries(t))i[e]=se(n.V,r)}else if("oneof"==n.kind){i=n.findField(t.case)?{case:t.case,value:se(0,t.value)}:{case:void 0}}else i=se(0,t);r[n.localName]=i}return n}}),{newFieldList:e=>new class{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const e={};for(const t of this.list())e[t.jsonName]=e[t.name]=t;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){const e={};for(const t of this.list())e[t.no]=t;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort(((e,t)=>e.no-t.no))),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const n of this.list())n.oneof?n.oneof!==t&&(t=n.oneof,e.push(t)):e.push(n)}return this.members}}(e,pe),initFields(e){for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated)r[n]=[];else switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=J(t.T)}}}}),makeMessageType(e,t,n){return function(e,t,n,r){var i;const o=null!==(i=null==r?void 0:r.localName)&&void 0!==i?i:t.substring(t.lastIndexOf(".")+1),s={[o]:function(t){e.util.initFields(this),e.util.initPartial(t,this)}}[o];return Object.setPrototypeOf(s.prototype,new v),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary:(e,t)=>(new s).fromBinary(e,t),fromJson:(e,t)=>(new s).fromJson(e,t),fromJsonString:(e,t)=>(new s).fromJsonString(e,t),equals:(t,n)=>e.util.equals(s,t,n)}),s}(this,e,t,n)},makeEnum:function(e,t,n){const r={};for(const e of t){const t=p(e);r[t.localName]=t.no,r[t.no]=t.localName}return m(r,e,t),r},makeEnumType:w,getEnumType:function(e){const t=e[g];return f(t,"missing enum type on enum object"),t}});function pe(e){var t,n,r;const i=[];let o;for(const s of"function"==typeof e?e():e){const e=s;if(e.localName=ae(s.name,void 0!==s.oneof),e.jsonName=null!==(t=s.jsonName)&&void 0!==t?t:ce(s.name),e.repeated=null!==(n=s.repeated)&&void 0!==n&&n,e.packed=null!==(r=s.packed)&&void 0!==r?r:"enum"==s.kind||"scalar"==s.kind&&s.T!=_.BYTES&&s.T!=_.STRING,void 0!==s.oneof){const t="string"==typeof s.oneof?s.oneof:s.oneof.name;o&&o.name==t||(o=new me(t)),e.oneof=o,o.addField(e)}i.push(e)}return i}(fe=le||(le={}))[fe.Unary=0]="Unary",fe[fe.ServerStreaming=1]="ServerStreaming",fe[fe.ClientStreaming=2]="ClientStreaming",fe[fe.BiDiStreaming=3]="BiDiStreaming",(be=de||(de={}))[be.NoSideEffects=1]="NoSideEffects",be[be.Idempotent=2]="Idempotent";var _e=class extends v{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),we.util.initPartial(e,this)}toJson(e){var t;if(""===this.typeUrl)return{};const n=this.typeUrlToName(this.typeUrl),r=null===(t=null==e?void 0:e.typeRegistry)||void 0===t?void 0:t.findMessage(n);if(!r)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let i=r.fromBinary(this.value).toJson(e);return(n.startsWith("google.protobuf.")||null===i||Array.isArray(i)||"object"!=typeof i)&&(i={value:i}),i["@type"]=this.typeUrl,i}fromJson(e,t){var n;if(null===e||Array.isArray(e)||"object"!=typeof e)throw new Error("cannot decode message google.protobuf.Any from JSON: expected object but got "+(null===e?"null":Array.isArray(e)?"array":typeof e));if(0==Object.keys(e).length)return this;const r=e["@type"];if("string"!=typeof r||""==r)throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const i=this.typeUrlToName(r),o=null===(n=null==t?void 0:t.typeRegistry)||void 0===n?void 0:n.findMessage(i);if(!o)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${r} is not in the type registry`);let s;if(i.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))s=o.fromJson(e.value,t);else{const n=Object.assign({},e);delete n["@type"],s=o.fromJson(n,t)}return this.packFrom(s),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return!!this.is(e.getType())&&(e.fromBinary(this.value),!0)}unpack(e){if(""===this.typeUrl)return;const t=e.findMessage(this.typeUrlToName(this.typeUrl));return t?t.fromBinary(this.value):void 0}is(e){if(""===this.typeUrl)return!1;const t=this.typeUrlToName(this.typeUrl);let n="";return n="string"==typeof e?e:e.typeName,t===n}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);const t=e.lastIndexOf("/"),n=t>0?e.substring(t+1):e;if(!n.length)throw new Error(`invalid type url: ${e}`);return n}static pack(e){const t=new _e;return t.packFrom(e),t}static fromBinary(e,t){return(new _e).fromBinary(e,t)}static fromJson(e,t){return(new _e).fromJson(e,t)}static fromJsonString(e,t){return(new _e).fromJsonString(e,t)}static equals(e,t){return we.util.equals(_e,e,t)}};_e.runtime=we,_e.typeName="google.protobuf.Any",_e.fields=we.util.newFieldList((()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]));var ye=Object.defineProperty,ve=(e,t)=>{for(var n in t)ye(e,n,{get:t[n],enumerable:!0})},ke={};ve(ke,{ArrowIPCDataChunk:()=>Fe,AttachedDatabase:()=>Se,QueryParam:()=>Te,QueryParam_OutputFormat:()=>Ie,QueryResult:()=>Ae});var Ne=class extends v{constructor(e){super(),this.query="",this.database=[],this.outputFormat=Ie.TEXT,this.params={},we.util.initPartial(e,this)}static fromBinary(e,t){return(new Ne).fromBinary(e,t)}static fromJson(e,t){return(new Ne).fromJson(e,t)}static fromJsonString(e,t){return(new Ne).fromJsonString(e,t)}static equals(e,t){return we.util.equals(Ne,e,t)}},Te=Ne;Te.runtime=we,Te.typeName="hyper.db.grpc.QueryParam",Te.fields=we.util.newFieldList((()=>[{no:1,name:"query",kind:"scalar",T:9},{no:2,name:"database",kind:"message",T:Se,repeated:!0},{no:3,name:"output_format",kind:"enum",T:we.getEnumType(Ie)},{no:4,name:"params",kind:"map",K:9,V:{kind:"scalar",T:9}}]));var Ie=(e=>(e[e.TEXT=0]="TEXT",e[e.ARROW_IPC=3]="ARROW_IPC",e))(Ie||{});we.util.setEnumType(Ie,"hyper.db.grpc.QueryParam.OutputFormat",[{no:0,name:"TEXT"},{no:3,name:"ARROW_IPC"}]);var Ee=class extends v{constructor(e){super(),this.path="",this.alias="",we.util.initPartial(e,this)}static fromBinary(e,t){return(new Ee).fromBinary(e,t)}static fromJson(e,t){return(new Ee).fromJson(e,t)}static fromJsonString(e,t){return(new Ee).fromJsonString(e,t)}static equals(e,t){return we.util.equals(Ee,e,t)}},Se=Ee;Se.runtime=we,Se.typeName="hyper.db.grpc.AttachedDatabase",Se.fields=we.util.newFieldList((()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"alias",kind:"scalar",T:9}]));var Oe=class extends v{constructor(e){super(),this.result={case:void 0},we.util.initPartial(e,this)}static fromBinary(e,t){return(new Oe).fromBinary(e,t)}static fromJson(e,t){return(new Oe).fromJson(e,t)}static fromJsonString(e,t){return(new Oe).fromJsonString(e,t)}static equals(e,t){return we.util.equals(Oe,e,t)}},Ae=Oe;Ae.runtime=we,Ae.typeName="hyper.db.grpc.QueryResult",Ae.fields=we.util.newFieldList((()=>[{no:5,name:"arrow_ipc_data_chunk",kind:"message",T:Fe,oneof:"result"}]));var Ue=class extends v{constructor(e){super(),this.data=new Uint8Array(0),we.util.initPartial(e,this)}static fromBinary(e,t){return(new Ue).fromBinary(e,t)}static fromJson(e,t){return(new Ue).fromJson(e,t)}static fromJsonString(e,t){return(new Ue).fromJsonString(e,t)}static equals(e,t){return we.util.equals(Ue,e,t)}},Fe=Ue;Fe.runtime=we,Fe.typeName="hyper.db.grpc.ArrowIPCDataChunk",Fe.fields=we.util.newFieldList((()=>[{no:10,name:"data",kind:"scalar",T:12}]));var je={};ve(je,{HyperDatabaseService:()=>De});var Be,xe,De={typeName:"hyper.db.grpc.HyperDatabaseService",methods:{executeQuery:{name:"ExecuteQuery",I:Te,O:Ae,kind:le.ServerStreaming}}};function Ce(e){const t=Be[e];return"string"!=typeof t?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,(e=>"_"+e.toLowerCase()))}(xe=Be||(Be={}))[xe.Canceled=1]="Canceled",xe[xe.Unknown=2]="Unknown",xe[xe.InvalidArgument=3]="InvalidArgument",xe[xe.DeadlineExceeded=4]="DeadlineExceeded",xe[xe.NotFound=5]="NotFound",xe[xe.AlreadyExists=6]="AlreadyExists",xe[xe.PermissionDenied=7]="PermissionDenied",xe[xe.ResourceExhausted=8]="ResourceExhausted",xe[xe.FailedPrecondition=9]="FailedPrecondition",xe[xe.Aborted=10]="Aborted",xe[xe.OutOfRange=11]="OutOfRange",xe[xe.Unimplemented=12]="Unimplemented",xe[xe.Internal=13]="Internal",xe[xe.Unavailable=14]="Unavailable",xe[xe.DataLoss=15]="DataLoss",xe[xe.Unauthenticated=16]="Unauthenticated";var Je=class extends Error{constructor(e,t=Be.Unknown,n,r){var i;super(function(e,t){return e.length?`[${Ce(t)}] ${e}`:`[${Ce(t)}]`}(e,t)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=t;const o=null!==(i=null!=r?r:Array.isArray(n)?void 0:n)&&void 0!==i?i:{};this.metadata=new Headers(o),this.details=[]}};function Le(e,t=Be.Unknown){return e instanceof Je?e:e instanceof Error?"AbortError"==e.name?new Je(e.message,Be.Canceled):new Je(e.message):new Je(String(e),t)}function $e(e,t){return t.concat().reverse().reduce(((e,t)=>t(e)),e)}function We(e){let t,n=new Uint8Array(0);function r(e){const t=new Uint8Array(n.length+e.length);t.set(n),t.set(e,n.length),n=t}return new ReadableStream({start(){t=e.getReader()},async pull(e){let i;for(;;){if(void 0===i&&n.byteLength>=5){let e=0;for(let t=1;t<5;t++)e=(e<<8)+n[t];i={flags:n[0],length:e}}if(void 0!==i&&n.byteLength>=i.length+5)break;const e=await t.read();if(e.done)break;r(e.value)}if(void 0===i)return 0==n.byteLength?void e.close():void e.error(new Je("premature end of stream",Be.DataLoss));const o=n.subarray(5,5+i.length);n=n.subarray(5+i.length),e.enqueue({flags:i.flags,data:o})}})}function Re(e,t,n){const r=e.data.length+5,i=new Uint8Array(t,n,r);i[0]=e.flags;for(let t=e.data.length,n=4;n>0;n--)i[n]=t%256,t>>>=8;return i.set(e.data,5),r}var Pe=class extends v{constructor(e){super(),this.code=0,this.message="",this.details=[],we.util.initPartial(e,this)}static fromBinary(e,t){return(new Pe).fromBinary(e,t)}static fromJson(e,t){return(new Pe).fromJson(e,t)}static fromJsonString(e,t){return(new Pe).fromJsonString(e,t)}static equals(e,t){return we.util.equals(Pe,e,t)}};function Ve(e,t){return function(...e){const t=new ArrayBuffer(e.reduce(((e,t)=>e+t.data.length+5),0));let n=0;for(const r of e)n+=Re(r,t,n);return new Uint8Array(t)}({data:e.toBinary(t),flags:Me})}Pe.runtime=we,Pe.typeName="grpc.status.v1.Status",Pe.fields=we.util.newFieldList((()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:_e,repeated:!0}]));var Me=0,Xe=128;function qe(e,t){const n=new Headers(null!=e?e:{});return n.set("Content-Type","application/grpc-web+proto"),n.set("X-Grpc-Web","1"),n.set("X-User-Agent","@bufbuild/connect-web"),void 0!==t&&n.set("Grpc-Timeout",`${t}m`),n}function Ge(e){const t=e.get("Content-Type");switch(null==t?void 0:t.toLowerCase()){case"application/grpc-web":case"application/grpc-web+proto":return;case"application/grpc-web-text":case"application/grpc-web-text+proto":return new Je("grpc-web-text is not supported",Be.Internal);default:return new Je(`unexpected content type: ${String(t)}`,Be.Internal)}}function He(e){var t;const n=function(e){switch(e){case 200:return null;case 400:return Be.Internal;case 401:return Be.Unauthenticated;case 403:return Be.PermissionDenied;case 404:return Be.Unimplemented;case 429:case 502:case 503:case 504:return Be.Unavailable;default:return Be.Unknown}}(e.status);if(n)return new Je(decodeURIComponent(null!==(t=e.headers.get("grpc-message"))&&void 0!==t?t:""),n)}function Ke(e){var t;const n=e.get("grpc-status");if(null===n)return;const r=parseInt(n);return 0!==r?r in Be?new Je(decodeURIComponent(null!==(t=e.get("grpc-message"))&&void 0!==t?t:""),r,void 0,e):new Je(`invalid grpc-status: ${n}`,Be.Internal,void 0,e):void 0}function ze(e){const t=e.get("grpc-status-details-bin");if(null!=t)try{const n=function(e,t,n){try{const n=z.dec(e);return t?t.fromBinary(n,void 0):n}catch(e){throw new Je(e instanceof Error?e.message:String(e),Be.DataLoss)}}(t,Pe);if(0==n.code)return;const r=new Je(n.message,n.code,void 0,e);return r.details.push(...n.details),r}catch(t){const n=Le(t,Be.Internal);return e.forEach(((e,t)=>n.metadata.append(t,e))),n}}function Ye(e){var t;const n=function(e){const t=new Headers,n=String.fromCharCode(...e).split("\r\n");for(const e of n){if(""===e)continue;const n=e.indexOf(":");if(n>0){const r=e.substring(0,n).trim(),i=e.substring(n+1).trim();t.append(r,i)}}return t}(e),r=null!==(t=ze(n))&&void 0!==t?t:Ke(n);if(r)throw r;return n}var Qe,Ze={private:!0,name:"@ankoh/loper-db-web-shell",version:"1.11.0",description:"",author:"André Kohn <andre.kohn@salesforce.com>",keywords:["sql","loper","relational","database","data","query","analytics","olap"],dependencies:{xterm:"^4.19.0","xterm-addon-fit":"^0.5.0","xterm-addon-web-links":"^0.6.0","xterm-addon-webgl":"^0.12.0"},devDependencies:{esbuild:"^0.15.6",eslint:"^8.25.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.31.1",jasmine:"^4.4.0","jasmine-core":"^4.3.0","jasmine-spec-reporter":"^7.0.0","make-dir":"^3.1.0",prettier:"^2.7.1",rimraf:"^3.0.2","wasm-pack":"^0.10.3"},scripts:{"install:wasmpack":"node ../../node_modules/wasm-pack/install.js","build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",lint:"eslint src"},files:["dist","!dist/types/test"],main:"dist/shell.cjs",module:"dist/shell.mjs",types:"dist/shell.d.ts",jsdelivr:"dist/shell.cjs",unpkg:"dist/shell.mjs",sideEffects:!1,exports:{"./dist/shell_bg.wasm":"./dist/shell_bg.wasm","./dist/shell.js":"./dist/shell.js","./dist/shell.cjs":"./dist/shell.cjs","./dist/shell.mjs":"./dist/shell.mjs","./dist/shell":"./dist/shell.mjs",".":{types:"./dist/shell.d.ts",import:"./dist/shell.mjs",require:"./dist/shell.cjs"}}},et=(Ze.name,Ze.version,Ze.version.split(".")),tt=(et[0],et[1],et[2],new Array(32).fill(void 0));function nt(e){return tt[e]}tt.push(void 0,null,!0,!1);var rt=0,it=new Uint8Array;function ot(){return 0===it.byteLength&&(it=new Uint8Array(Qe.memory.buffer)),it}var st=new TextEncoder("utf-8"),at="function"==typeof st.encodeInto?function(e,t){return st.encodeInto(e,t)}:function(e,t){const n=st.encode(e);return t.set(n),{read:e.length,written:n.length}};function ct(e,t,n){if(void 0===n){const n=st.encode(e),r=t(n.length);return ot().subarray(r,r+n.length).set(n),rt=n.length,r}let r=e.length,i=t(r);const o=ot();let s=0;for(;s<r;s++){const t=e.charCodeAt(s);if(t>127)break;o[i+s]=t}if(s!==r){0!==s&&(e=e.slice(s)),i=n(i,r,r=s+3*e.length);const t=ot().subarray(i+s,i+r);s+=at(e,t).written}return rt=s,i}function ut(e){return null==e}var lt=new Int32Array;function ft(){return 0===lt.byteLength&&(lt=new Int32Array(Qe.memory.buffer)),lt}var dt=tt.length;function bt(e){const t=nt(e);return function(e){e<36||(tt[e]=dt,dt=e)}(e),t}function ht(e){dt===tt.length&&tt.push(tt.length+1);const t=dt;return dt=tt[t],tt[t]=e,t}function gt(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=gt(e[0]));for(let r=1;r<t;r++)n+=", "+gt(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}var mt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function wt(e,t){return mt.decode(ot().subarray(e,e+t))}function pt(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...e)=>{i.cnt++;const t=i.a;i.a=0;try{return r(t,i.b,...e)}finally{0==--i.cnt?Qe.__wbindgen_export_2.get(i.dtor)(t,i.b):i.a=t}};return o.original=i,o}function _t(e,t,n){return 0!==Qe._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h1293f6973139479b(e,t,ht(n))}function yt(e,t,n){Qe._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h7cb29278dbe2df97(e,t,ht(n))}function vt(e,t){try{return e.apply(this,t)}catch(e){Qe.__wbindgen_exn_store(ht(e))}}function kt(e){const t=ct(e,Qe.__wbindgen_malloc,Qe.__wbindgen_realloc),n=rt;Qe.writeln(t,n)}mt.decode();var Nt=32;var Tt=new Uint32Array;function It(){const e={wbg:{}};return e.wbg.__wbg_setcursorBlink_3ba678241a51be74=function(e,t){nt(e).cursorBlink=0!==t},e.wbg.__wbg_setcursorWidth_cf05847f3cca38e3=function(e,t){nt(e).cursorWidth=t>>>0},e.wbg.__wbg_setdrawBoldTextInBrightColors_e7c3994965e4bd06=function(e,t){nt(e).drawBoldTextInBrightColors=0!==t},e.wbg.__wbg_setfontSize_84662196533110f2=function(e,t){nt(e).fontSize=t>>>0},e.wbg.__wbg_setfontFamily_5a6afef58ad9f9cb=function(e,t,n){nt(e).fontFamily=wt(t,n)},e.wbg.__wbg_setrightClickSelectsWord_1aed4e5a123ddb5e=function(e,t){nt(e).rightClickSelectsWord=0!==t},e.wbg.__wbg_setrows_5f9fb2bf687e6aad=function(e,t){nt(e).rows=t>>>0},e.wbg.__wbg_settheme_0d84d4796da17152=function(e,t){nt(e).theme=nt(t)},e.wbg.__wbg_setforeground_dc7782140acbbc69=function(e,t,n){nt(e).foreground=wt(t,n)},e.wbg.__wbg_setbackground_cbbbd845654ef33f=function(e,t,n){nt(e).background=wt(t,n)},e.wbg.__wbg_setcursor_efd7c422239574a2=function(e,t,n){nt(e).cursor=wt(t,n)},e.wbg.__wbg_setcursorAccent_bc34716c1105ee6e=function(e,t,n){nt(e).cursorAccent=wt(t,n)},e.wbg.__wbg_setbrightCyan_a43f19f1bd6a60da=function(e,t,n){nt(e).brightCyan=wt(t,n)},e.wbg.__wbg_construct_9da46368b809bfb2=function(e){return ht(new a.Terminal(nt(e)))},e.wbg.__wbg_cols_6444fee9dbd6ebc7=function(e){return nt(e).cols},e.wbg.__wbg_focus_95cae1a7510526d8=function(e){nt(e).focus()},e.wbg.__wbg_open_f9b7c56f80dc4619=function(e,t){nt(e).open(bt(t))},e.wbg.__wbg_attachCustomKeyEventHandler_5dd50161d71e91da=function(e,t){nt(e).attachCustomKeyEventHandler(nt(t))},e.wbg.__wbg_write_99705f801ac713f2=function(e,t,n){nt(e).write(wt(t,n))},e.wbg.__wbg_setOption_3261569542c69a64=function(e,t,n,r){nt(e).setOption(wt(t,n),bt(r))},e.wbg.__wbg_loadAddon_2c332c0269953703=function(e,t){nt(e).loadAddon(bt(t))},e.wbg.__wbindgen_string_get=function(e,t){const n=nt(t),r="string"==typeof n?n:void 0;var i=ut(r)?0:ct(r,Qe.__wbindgen_malloc,Qe.__wbindgen_realloc),o=rt;ft()[e/4+1]=o,ft()[e/4+0]=i},e.wbg.__wbindgen_object_drop_ref=function(e){bt(e)},e.wbg.__wbg_backgroundColor_10404708ae444226=function(e,t){const n=ct(nt(t).backgroundColor,Qe.__wbindgen_malloc,Qe.__wbindgen_realloc),r=rt;ft()[e/4+1]=r,ft()[e/4+0]=n},e.wbg.__wbg_fontFamily_e30263cc7f30f46a=function(e,t){const n=ct(nt(t).fontFamily,Qe.__wbindgen_malloc,Qe.__wbindgen_realloc),r=rt;ft()[e/4+1]=r,ft()[e/4+0]=n},e.wbg.__wbg_withWebGL_bd0e586f8d5a075a=function(e){return nt(e).withWebGL},e.wbg.__wbg_instanceof_WebLinksAddon_04cab4586c231906=function(e){let t;try{t=nt(e)instanceof u.WebLinksAddon}catch{t=!1}return t},e.wbg.__wbg_instanceof_WebglAddon_9c707cb2c0ce3993=function(e){let t;try{t=nt(e)instanceof l.WebglAddon}catch{t=!1}return t},e.wbg.__wbg_pushInputToHistory_8bf2af66563ac81a=function(){return vt((function(e,t,n){return ht(nt(e).pushInputToHistory(wt(t,n)))}),arguments)},e.wbg.__wbg_disconnect_dd9d1fb878e8e95f=function(){return vt((function(e){return ht(nt(e).disconnect())}),arguments)},e.wbg.__wbg_runQuery_6de415eee622b638=function(){return vt((function(e,t,n){return ht(nt(e).runQuery(wt(t,n)))}),arguments)},e.wbg.__wbg_readClipboardText_63e6a379cf89a3a2=function(){return vt((function(e){return ht(nt(e).readClipboardText())}),arguments)},e.wbg.__wbg_configureClient_fa47ae7fa54ae669=function(){return vt((function(e,t,n){return ht(nt(e).configureClient(wt(t,n)))}),arguments)},e.wbg.__wbg_tokenize_685d58d7043a5bf2=function(){return vt((function(e,t,n){return ht(nt(e).tokenize(wt(t,n)))}),arguments)},e.wbg.__wbg_connect_7aa6400580b0e383=function(){return vt((function(e){return ht(nt(e).connect())}),arguments)},e.wbg.__wbg_new_2d65b9f6234b13df=function(e){return ht(new l.WebglAddon(16777215===e?void 0:0!==e))},e.wbg.__wbindgen_object_clone_ref=function(e){return ht(nt(e))},e.wbg.__wbg_new_22436661701cf3bd=function(e,t,n){return ht(new u.WebLinksAddon(nt(e),nt(t),16777215===n?void 0:0!==n))},e.wbg.__wbg_log_f3661c38b27edc8b=function(e,t){console.log(wt(e,t))},e.wbg.__wbg_error_510234a024d10cf2=function(e,t){console.error(wt(e,t))},e.wbg.__wbg_warn_58d32d482edf1cce=function(e,t){console.warn(wt(e,t))},e.wbg.__wbg_new_266355f995b2e871=function(){return ht(new c.FitAddon)},e.wbg.__wbg_fit_570cd3519c5e2ee2=function(e){nt(e).fit()},e.wbg.__wbg_offsets_4fd2e72dd7f1784f=function(e,t){const n=function(e,t){const n=t(4*e.length);return(0===Tt.byteLength&&(Tt=new Uint32Array(Qe.memory.buffer)),Tt).set(e,n/4),rt=e.length,n}(nt(t).offsets,Qe.__wbindgen_malloc),r=rt;ft()[e/4+1]=r,ft()[e/4+0]=n},e.wbg.__wbg_types_93160d5ee8afe308=function(e,t){const n=function(e,t){const n=t(1*e.length);return ot().set(e,n/1),rt=e.length,n}(nt(t).types,Qe.__wbindgen_malloc),r=rt;ft()[e/4+1]=r,ft()[e/4+0]=n},e.wbg.__wbg_new_abda76e883ba8a5f=function(){return ht(new Error)},e.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=ct(nt(t).stack,Qe.__wbindgen_malloc,Qe.__wbindgen_realloc),r=rt;ft()[e/4+1]=r,ft()[e/4+0]=n},e.wbg.__wbg_error_f851667af71bcfc6=function(e,t){try{console.error(wt(e,t))}finally{Qe.__wbindgen_free(e,t)}},e.wbg.__wbg_instanceof_Window_acc97ff9f5d2c7b4=function(e){let t;try{t=nt(e)instanceof Window}catch{t=!1}return t},e.wbg.__wbg_performance_de9825f9a8678574=function(e){const t=nt(e).performance;return ut(t)?0:ht(t)},e.wbg.__wbg_now_8172cd917e5eda6b=function(e){return nt(e).now()},e.wbg.__wbg_type_a86a71d052709b75=function(e,t){const n=ct(nt(t).type,Qe.__wbindgen_malloc,Qe.__wbindgen_realloc),r=rt;ft()[e/4+1]=r,ft()[e/4+0]=n},e.wbg.__wbg_ctrlKey_fd79f035994d9387=function(e){return nt(e).ctrlKey},e.wbg.__wbg_metaKey_cdd15bf44efb510e=function(e){return nt(e).metaKey},e.wbg.__wbg_key_ad4fc49423a94efa=function(e,t){const n=ct(nt(t).key,Qe.__wbindgen_malloc,Qe.__wbindgen_realloc),r=rt;ft()[e/4+1]=r,ft()[e/4+0]=n},e.wbg.__wbindgen_cb_drop=function(e){const t=bt(e).original;return 1==t.cnt--&&(t.a=0,!0)},e.wbg.__wbg_get_57245cc7d7c7619d=function(e,t){return ht(nt(e)[t>>>0])},e.wbg.__wbg_length_6e3bbe7c8bd4dbd8=function(e){return nt(e).length},e.wbg.__wbg_newnoargs_b5b063fc6c2f0376=function(e,t){return ht(new Function(wt(e,t)))},e.wbg.__wbg_call_97ae9d8645dc388b=function(){return vt((function(e,t){return ht(nt(e).call(nt(t)))}),arguments)},e.wbg.__wbg_new_0b9bfdd97583284e=function(){return ht(new Object)},e.wbg.__wbg_self_6d479506f72c6a71=function(){return vt((function(){return ht(self.self)}),arguments)},e.wbg.__wbg_window_f2557cc78490aceb=function(){return vt((function(){return ht(window.window)}),arguments)},e.wbg.__wbg_globalThis_7f206bda628d5286=function(){return vt((function(){return ht(globalThis.globalThis)}),arguments)},e.wbg.__wbg_global_ba75c50d1cf384f4=function(){return vt((function(){return ht(global.global)}),arguments)},e.wbg.__wbindgen_is_undefined=function(e){return void 0===nt(e)},e.wbg.__wbg_new_8d2af00bc1e329ee=function(e,t){return ht(new Error(wt(e,t)))},e.wbg.__wbg_message_fe2af63ccc8985bc=function(e){return ht(nt(e).message)},e.wbg.__wbg_toString_73c9b562dccf34bd=function(e){return ht(nt(e).toString())},e.wbg.__wbg_call_168da88779e35f61=function(){return vt((function(e,t,n){return ht(nt(e).call(nt(t),nt(n)))}),arguments)},e.wbg.__wbg_getTimezoneOffset_89bd4275e1ca8341=function(e){return nt(e).getTimezoneOffset()},e.wbg.__wbg_new0_a57059d72c5b7aee=function(){return ht(new Date)},e.wbg.__wbg_new_9962f939219f1820=function(e,t){try{var n={a:e,b:t};const r=new Promise(((e,t)=>{const r=n.a;n.a=0;try{return function(e,t,n,r){Qe.wasm_bindgen__convert__closures__invoke2_mut__h5b2a6fd7c58ba19e(e,t,ht(n),ht(r))}(r,n.b,e,t)}finally{n.a=r}}));return ht(r)}finally{n.a=n.b=0}},e.wbg.__wbg_resolve_99fe17964f31ffc0=function(e){return ht(Promise.resolve(nt(e)))},e.wbg.__wbg_then_11f7a54d67b4bfad=function(e,t){return ht(nt(e).then(nt(t)))},e.wbg.__wbg_then_cedad20fbbd9418a=function(e,t,n){return ht(nt(e).then(nt(t),nt(n)))},e.wbg.__wbg_buffer_3f3d764d4747d564=function(e){return ht(nt(e).buffer)},e.wbg.__wbg_new_8c3f0052272a457a=function(e){return ht(new Uint8Array(nt(e)))},e.wbg.__wbg_set_83db9690f9353e79=function(e,t,n){nt(e).set(nt(t),n>>>0)},e.wbg.__wbg_length_9e1ae1900cb0fbd5=function(e){return nt(e).length},e.wbg.__wbindgen_debug_string=function(e,t){const n=ct(gt(nt(t)),Qe.__wbindgen_malloc,Qe.__wbindgen_realloc),r=rt;ft()[e/4+1]=r,ft()[e/4+0]=n},e.wbg.__wbindgen_throw=function(e,t){throw new Error(wt(e,t))},e.wbg.__wbindgen_memory=function(){return ht(Qe.memory)},e.wbg.__wbindgen_closure_wrapper202=function(e,t,n){return ht(pt(e,t,56,_t))},e.wbg.__wbindgen_closure_wrapper891=function(e,t,n){return ht(pt(e,t,107,yt))},e}Object.freeze({Width0:0,0:"Width0",Width1:1,1:"Width1",Width2:2,2:"Width2"}),Object.freeze({FileInput:0,0:"FileInput"});var Et=async function e(t){void 0===t&&(t=new URL(n(176),n.b));const r=It();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:i,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,r);return function(t,n){return Qe=t.exports,e.__wbindgen_wasm_module=n,lt=new Int32Array,Tt=new Uint32Array,it=new Uint8Array,Qe.__wbindgen_start(),Qe}(i,o)},St="HYPER_WEB_SHELL_HISTORY",Ot="LOG_INFO",At="LOG_ENTRIES",Ut=()=>{if(/^((?!chrome|android).)*safari/i.test("undefined"==typeof navigator?"node":navigator.userAgent))return!1;const e=document.createElement("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl2"):"WebGL2RenderingContext"in window};async function Ft(e){await Et(e.shellModule);const t=new class{constructor(e){this.container=e,this.history=new class{constructor(){this._idbFactory=window.indexedDB,this._idb=null,this._nextEntryKey=0,this._entryCount=0}async load(){if(0==this._entryCount)return[[],0];const e=this._idb.transaction([At,Ot],"readwrite").objectStore(At).openCursor();return await new Promise(((t,n)=>{const r=[];e.onsuccess=e=>{const n=e.target;null!=n.result?(r.push(n.result.value.input),n.result.continue()):t([r,this._nextEntryKey])},e.onerror=n}))}async open(){this._idb=await new Promise(((e,t)=>{const n=this._idbFactory.open(St,4);n.onupgradeneeded=n=>{const r=n.target,i=r.result,o=r.transaction;this.createSchema(i),o.oncomplete=()=>e(i),o.onerror=e=>t(e)},n.onsuccess=t=>{const r=n.result;e(r)},n.onerror=e=>t(e)})),await this.loadMetadata()}async loadMetadata(){const e=await new Promise(((e,t)=>{const n=this._idb.transaction([Ot]).objectStore(Ot).get(0);n.onsuccess=t=>e(t.target.result||null),n.onerror=t=>{console.warn(t),e(null)}}));this._nextEntryKey=e?.nextEntryKey||0,this._entryCount=e?.entryCount||0}createSchema(e){e.objectStoreNames.contains(Ot)&&e.deleteObjectStore(Ot),e.objectStoreNames.contains(At)&&e.deleteObjectStore(At),e.createObjectStore(Ot,{keyPath:"key"}),e.createObjectStore(At,{keyPath:"key"})}async reset(){this._idb?.close(),this._idb=null,this._idbFactory.deleteDatabase(St),await this.open()}async push(e){const t=1023&this._nextEntryKey++;this._entryCount=Math.min(this._entryCount+1,1024);const n=this._idb.transaction([At,Ot],"readwrite"),r=n.objectStore(Ot),i=n.objectStore(At);await Promise.all([new Promise(((n,r)=>{const o=i.put({key:t,when:new Date,input:e});o.onsuccess=n,o.onerror=r})),new Promise(((e,t)=>{const n=r.put({key:0,nextEntryKey:this._nextEntryKey,entryCount:this._entryCount});n.onsuccess=e,n.onerror=t}))])}},this.service=null,this.resizeHandler=t=>{const n=e.getBoundingClientRect();var r,i;r=n.width,i=n.height,Qe.resize(r,i)}}async configureClient(e){return this.service&&this.service?.url==e||(this.service=new class{constructor(e,t){this.url=e;const n=function(e){!function(){try{new Headers}catch(e){throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}();const t=e;return{async unary(n,r,i,o,s,a){var c,u,l,f;try{return await(u={stream:!1,service:n,method:r,url:`${e.baseUrl.replace(/\/$/,"")}/${n.typeName}/${r.name}`,init:{method:"POST",credentials:null!==(c=e.credentials)&&void 0!==c?c:"same-origin",redirect:"error",mode:"cors"},header:qe(s,o),message:a instanceof r.I?a:new r.I(a),signal:null!=i?i:(new AbortController).signal},l=async n=>{var i,o,s;const a=await fetch(n.url,Object.assign(Object.assign({},n.init),{headers:n.header,signal:n.signal,body:Ve(n.message,e.binaryOptions)})),c=null!==(s=null!==(o=null!==(i=He(a))&&void 0!==i?i:Ge(a.headers))&&void 0!==o?o:ze(a.headers))&&void 0!==s?s:Ke(a.headers);if(c)throw c;if(!a.body)throw"missing response body";const u=We(a.body).getReader(),l=await u.read();if(l.done)throw"premature eof";if(l.value.flags===Xe)throw Ye(l.value.data),"unexpected trailer";const f=r.O.fromBinary(l.value.data,t.binaryOptions),d=await u.read();if(d.done)throw"missing trailer";if(d.value.flags!==Xe)throw"missing trailer";const b=Ye(d.value.data);if(!(await u.read()).done)throw"extraneous data";return{stream:!1,header:a.headers,message:f,trailer:b}},f=t.interceptors,f&&(l=$e(l,f)),l(u))}catch(e){throw Le(e,Be.Internal)}},async serverStream(t,n,r,i,o,s){var a,c,u,l;try{return await(c={stream:!1,service:t,method:n,url:`${e.baseUrl.replace(/\/$/,"")}/${t.typeName}/${n.name}`,init:{method:"POST",credentials:null!==(a=e.credentials)&&void 0!==a?a:"same-origin",redirect:"error",mode:"cors"},header:qe(o,i),message:s instanceof n.I?s:new n.I(s),signal:null!=r?r:(new AbortController).signal},u=async r=>{var i,o,s;const a=await fetch(r.url,Object.assign(Object.assign({},r.init),{headers:r.header,signal:r.signal,body:Ve(r.message,e.binaryOptions)})),c=null!==(s=null!==(o=null!==(i=He(a))&&void 0!==i?i:Ge(a.headers))&&void 0!==o?o:ze(a.headers))&&void 0!==s?s:Ke(a.headers);if(c)throw c;if(!a.body)throw"missing response body";const u=We(a.body).getReader();let l=!1,f=!1;return{stream:!0,service:t,method:n,header:a.headers,trailer:new Headers,async read(){try{const t=await u.read();if(t.done){if(f&&!l)throw new Je("missing trailers",Be.Internal);return{done:!0,value:void 0}}return(t.value.flags&Xe)===Xe?(l=!0,Ye(t.value.data).forEach(((e,t)=>this.trailer.append(t,e))),{done:!0,value:void 0}):(f=!0,{done:!1,value:n.O.fromBinary(t.value.data,e.binaryOptions)})}catch(e){throw Le(e)}}}},l=e.interceptors,l&&(u=$e(u,l)),u(c))}catch(e){throw Le(e,Be.Internal)}}}}({baseUrl:e,credentials:t});this.client=function(e,t){return function(e,t){const n={};for(const[r,i]of Object.entries(e.methods)){const o=t(Object.assign(Object.assign({},i),{localName:r,service:e}));null!=o&&(n[r]=o)}return n}(e,(n=>{switch(n.kind){case le.Unary:return function(e,t,n){return async function(r,i){var o,s;const a=await e.unary(t,n,null==i?void 0:i.signal,null==i?void 0:i.timeoutMs,null==i?void 0:i.headers,r);return null===(o=null==i?void 0:i.onHeader)||void 0===o||o.call(i,a.header),null===(s=null==i?void 0:i.onTrailer)||void 0===s||s.call(i,a.trailer),a.message}}(t,e,n);case le.ServerStreaming:return function(e,t,n){return function(r,i){let o;return{[Symbol.asyncIterator]:()=>({async next(){var s,a;o||(o=await e.serverStream(t,n,null==i?void 0:i.signal,null==i?void 0:i.timeoutMs,null==i?void 0:i.headers,r),null===(s=null==i?void 0:i.onHeader)||void 0===s||s.call(i,o.header));const c=await o.read();return c.done?(null===(a=null==i?void 0:i.onTrailer)||void 0===a||a.call(i,o.trailer),{done:!0,value:void 0}):{done:!1,value:c.value}}})}}}(t,e,n);default:return null}}))}(je.HyperDatabaseService,n)}async getVersion(){return"someversion"}async tokenize(e){return{offsets:new Uint32Array,types:new Uint8Array}}async connect(){return new class{constructor(e){this.service=e}async disconnect(){return 42}async runQuery(e){const t=new ke.QueryParam({query:e});let n=[];for await(const e of this.service.client.executeQuery(t))"arrowIpcDataChunk"===e.result.case&&n.push(e.result.value.data);return n}}(this)}}(e)),this.service}async readClipboardText(){return await navigator.clipboard.readText()}async writeClipboardText(e){return await navigator.clipboard.writeText(e)}async pushInputToHistory(e){this.history.push(e)}}(e.container);!function(e,t,n){try{const i=Qe.__wbindgen_add_to_stack_pointer(-16);Qe.embed(i,ht(e),ht(t),ht(n));var r=ft()[i/4+0];if(ft()[i/4+1])throw bt(r)}finally{Qe.__wbindgen_add_to_stack_pointer(16)}}(e.container,t,{...e,fontFamily:e.fontFamily??"monospace",backgroundColor:e.backgroundColor??"#333",withWebGL:Ut()}),e.container.onresize=t.resizeHandler,await(async(e,n)=>{kt(`[1m[ RUN ][m ${e}`),await(async()=>{await t.history.open();const[e,n]=await t.history.load();!function(e,t){try{Qe.loadHistory(function(e){if(1==Nt)throw new Error("out of js stack");return tt[--Nt]=e,Nt}(e),t)}finally{tt[Nt++]=void 0}}(e,n)})(),kt(`[1m[ OK  ][m ${e}`)})("Loading Shell History"),kt("[1m[ RUN ][m Setup Loper Service Client"),await bt(Qe.initialSetup())}var jt=n(176);var Bt="RobotoMono",xt=n(857),Dt=n(557),Ct=n(779),Jt=n.n(Ct);const Lt={container:"MgE8UmO_jho2r_HikcFG",navbar:"Ik38kjC8InfXiyMIklkB",tabs:"bm9W3OhPnGkKhLwJ516g",logo:"Pr00W8Wp3LmJVbOJUr0W",tabNavbar:"iJCjJPuh9KQo8iwCNd16",tab:"yzjBuH6YN7NFao36gSMl",tabButton:"SCfU8XvxNRkZroE_3kvE",tabTextIcon:"UI3cWVGIxV4XnPJcJcDQ",active:"YnI4T386XnxghA5ap8dg"},$t=n.p+"static/img/shell.44adb131819504541d01.svg",Wt=n.p+"static/img/hyper.bb3caa35abd1f6e8ea98.svg";var Rt=function(e){var t;return r.createElement("div",{key:e.route,className:Jt()(Lt.tab,(t={},t[Lt.active]=e.location==e.route,t))},e.external?r.createElement("a",{href:e.route,target:"blank"},r.createElement("div",{className:Lt.tabButton},e.text?r.createElement("div",{className:Lt.tabTextIcon},e.text):r.createElement("svg",{className:Lt.tabIcon,width:"18px",height:"18px"},r.createElement("use",{xlinkHref:"".concat(e.icon,"#sym")})))):r.createElement(xt.rU,{to:e.route},r.createElement("div",{className:Lt.tabButton},e.text?r.createElement("div",{className:Lt.tabTextIcon},e.text):r.createElement("svg",{className:Lt.tabIcon,width:"18px",height:"18px"},r.createElement("use",{xlinkHref:"".concat(e.icon,"#sym")})))))},Pt=function(e){var t=(0,Dt.TH)();return r.createElement("div",{className:Lt.navbar},r.createElement("div",{className:Lt.logo},r.createElement("svg",{height:"28px",width:"28px"},r.createElement("use",{xlinkHref:"".concat(Wt,"#sym")}))),r.createElement("div",{className:Lt.tabs},r.createElement(Rt,{route:"/",location:t.pathname,icon:$t})))},Vt=(n(98),document.getElementById("root"));(0,i.s)(Vt).render(r.createElement(xt.VK,null,r.createElement(Dt.Z5,null,r.createElement(Dt.AW,{index:!0,element:r.createElement((function(e){return"true"===(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}((0,xt.lr)(),1)[0].get("fullscreen")||"")?r.createElement(r.Fragment,null,"props.children"):r.createElement("div",{className:Lt.container},r.createElement(Pt,null),r.createElement("div",{className:Lt.page},e.children))}),null,r.createElement((function(e){var t=r.useRef(null);r.useEffect((function(){var n,r,i,o;console.assert(null!=t.current),n=void 0,r=void 0,o=function(){var n,r;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(i){switch(i.label){case 0:return n=new(s())(Bt).load(),r=new(s())(Bt,{weight:"bold"}).load(),[4,Promise.all([n,r])];case 1:return i.sent(),[4,Ft({shellModule:jt,container:t.current,fontFamily:Bt,backgroundColor:e.backgroundColor})];case 2:return i.sent(),[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}))}),[]);var n={padding:e.padding?"".concat(e.padding.map((function(e){return"".concat(e,"px")})).join(" ")):"0px",borderRadius:e.borderRadius?"".concat(e.borderRadius.map((function(e){return"".concat(e,"px")})).join(" ")):"0px",backgroundColor:e.backgroundColor||"transparent",width:"100%",height:"100%"};return r.createElement("div",{className:"EjwxHylAFWvFF5SjNC3S",style:n},r.createElement("div",{ref:t,className:"pmw_E9qL2vscQDnXR34u"}))}),{padding:[16,0,0,20],backgroundColor:"#f0f0f0"}))}),r.createElement(Dt.AW,{path:"*",element:r.createElement(Dt.Fg,{to:"/"})}))))},176:(e,t,n)=>{e.exports=n.p+"static/wasm/shell_bg.6c3c56f32ede036970cd.wasm"}}]);